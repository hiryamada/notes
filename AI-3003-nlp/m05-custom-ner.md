# モジュール5 カスタム固有表現認識(NER)

```
Azure AI services
├ Azure AI Language
│ ├ Text analysys / テキスト分析 ... M1 (モジュール1)
│ ├ Question Answering / 質問応答 ... M2
│ ├ Conversational Language Understanding (CLU) / 会話言語理解 ... M3
│ ├ Custom text classification / カスタムテキスト分類 ... M4
| └ ★ Custom Named Entity Recognition (NER) / カスタムNER ... M5
├ Azure AI Translator / 翻訳 ... M6
└ Azure AI Speech
  ├ Text-to-speech, Speech-to-Text / 音声認識・テキスト読み上げ ... M7
  └ Speech translation / 音声翻訳 ... M8
```

## エンティティとは？

エンティティ（またはNamed Entity）は、文章の中に含まれる人名・地名・数量・場所・日付などの情報。

## 固有表現認識（NER、Named Entity Recognition）とは？

ドキュメントからエンティティを抽出する処理。

## カスタム固有表現認識（カスタムNER）とは？

カスタム NER では、ドメイン（特定領域）固有のエンティティを抽出できる。開発者が独自のエンティティの種類を定義できる。

## 例1 - 「金融機関」ドメイン

たとえば「金融機関」ドメインで扱う「ローンの契約書」には、以下のような「金融機関ドメイン固有のエンティティ」が含まれる。
- 「契約日」
- 「借り手の名前」
- 「貸し手の名前」
- 「金額」
- 「利息」

今まで人手で「ローンの契約書」から上記のような情報を読み取って、別のシステムに打ち込む、といった作業をしているとする。

「カスタムNER」機能を使用することで、「ローンの契約書」からの情報抽出の部分の作業をを自動化できる。

## 例2 - 「中古品販売」ドメイン

たとえば、以下の「不用品売ります」掲示板に書き込まれたテキストがあるとする。

```
ガラス製 L 字型デスク、サイズ 60 インチ x 60 インチ
奥行き 24 インチ。強化ガラスで状態は良好、脚は黒の金属製。
移転のため$100で販売します。
所在地はミシガン州デトロイトのダウンタウンです。＜連絡先＞
```

このテキストの中には以下のような「中古品販売ドメイン固有のエンティティ」が含まれる。

- 商品（ItemForSale）: ガラス製 L 字型デスク
- 価格（Price）: $100
- 場所（Location）: ミシガン州デトロイト

「カスタムNER」機能を使用することで、このようなテキストから情報を抽出できる。

すると、場所、価格範囲、といった形で情報の検索ができるようになる。

## 必要なリソース

- Azure AI Language リソース
  - [カスタム テキスト分類とカスタム固有表現認識]を含むボックスを選択。
- ストレージアカウント
  - サンプルデータを格納するBlobコンテナー

## カスタムNERプロジェクトの作成例

- Azure portalで以下を作成
  - ストレージアカウント
  - Azure AI 言語サービスリソース
  - サンプルデータのテキストをストレージアカウントのBlobコンテナーにアップロードする
- Language Studioにアクセス
  - 言語リソースを選択する
  - カスタムNERプロジェクトを作る
  - データにラベルを付ける
  - モデルをトレーニングする
  - モデルをデプロイする（独自アプリから利用する場合）

## 独自のアプリからのモデルの利用

デプロイされたモデルを使用して、独自のアプリから、カスタムNERタスクを実行できる。
