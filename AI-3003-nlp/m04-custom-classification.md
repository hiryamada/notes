# モジュール4 カスタム テキスト分類ソリューションを作成する

```
Azure AI services
├ Azure AI Language
│ ├ Text analysys / テキスト分析 ... M1 (モジュール1)
│ ├ Question Answering / 質問応答 ... M2
│ ├ Conversational Language Understanding (CLU) / 会話言語理解 ... M3
│ ├ ★ Custom text classification / カスタムテキスト分類 ... M4
| └ Custom Named Entity Recognition (NER) / カスタムNER ... M5
├ Azure AI Translator / 翻訳 ... M6
└ Azure AI Speech
  ├ Text-to-speech, Speech-to-Text / 音声認識・テキスト読み上げ ... M7
  └ Speech translation / 音声翻訳 ... M8
```


## カスタム テキスト分類とは？

独自のラベルをユーザーが定義する。

「カスタムテキスト分類」のモデルによって、あるテキストに対応するラベルがテキストに割り当てられる（ラベル付け）。

## カスタム テキスト分類の例

たとえば、以下のテキストがあるとする。

```
ガラス製 L 字型デスク、サイズ 60 インチ x 60 インチ
奥行き 24 インチ。強化ガラスで状態は良好、脚は黒の金属製。
移転のため$100で販売します。
所在地はミシガン州デトロイトのダウンタウンです。＜連絡先＞
```

このテキストは「中古品等の販売情報」（Classified、クラシファイド、いわゆる「売ります・買います」掲示板に掲載されるもの）と分類され、「Classified」ラベルが付与される。

※[Classifieds（クラシファイド）](https://ja.wikipedia.org/wiki/%E3%82%AF%E3%83%A9%E3%82%B7%E3%83%95%E3%82%A1%E3%82%A4%E3%83%89)とは、目的や地域によって分類された募集広告や告知を、一覧形式で掲載する広告媒体。日本では[ジモティー](https://jmty.jp/tokyo)など。

1つのテキストに1つのラベルを割り当てる処理は「単一ラベル」、複数のラベルを割り当てる処理は「複数ラベル」と呼ばれる。

## 必要なデータおよびリソース

- サンプルデータ
  - あらかじめ多数のテキストと、正解のラベルを用意しておく
- Azure AI 言語サービスリソース
  - [カスタム テキスト分類]を含むボックスを選択
- ストレージアカウント
  - 匿名読み取りアクセスを有効にしたBlobコンテナー

## サンプルデータ（様々な記事）

スポーツのニュース（Sports）、エンターテインメントニュース（Entertainment）、その他の一般的なニュース（News）、中古品の販売情報（Classifieds、クラシファイド）など。13個のテキストファイル。英文。

https://aka.ms/classification-articles

## カスタム テキスト分類プロジェクトの作成例

- Azure portalで以下を作成
  - ストレージアカウント
  - Azure AI 言語サービスリソース
  - サンプルデータのテキストをストレージアカウントのBlobコンテナーにアップロードする
- Language Studioにアクセス
  - 言語リソースを選択する
  - カスタムテキスト分類プロジェクト（単一ラベル）を作る
  - データにラベルを付ける
  - モデルをトレーニングする
  - モデルをデプロイする（独自アプリから利用する場合）

## 独自のアプリからのモデルの利用

デプロイされたモデルを使用して、独自のアプリから、分類タスクを実行できる。
