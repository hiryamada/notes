[知識チェック](https://docs.microsoft.com/ja-jp/learn/modules/design-governance/10-knowledge-check)

# 1. 複数のサブスクリプションにポリシーを確実に実装する

管理グループを作成し、関連するすべてのサブスクリプションを新しい管理グループに配置。

```
管理グループ ← ポリシーを割り当て
├サブスクリプション1
└サブスクリプション2
```

# 2. ストレージアカウントで、確実に GRS(Geo 冗長ストレージ)が使用されるようにする

[Azure Storage 用の Azure Policy](https://docs.microsoft.com/ja-jp/azure/storage/common/policy-reference)に含まれる「ストレージ アカウントの geo 冗長ストレージを有効にする必要があります」ポリシーを使用する。

管理グループまたはサブスクリプションでポリシーを割り当てる。

```
管理グループ ← ポリシー
└サブスクリプション
  └ストレージアカウント(GRS)
```


# 3. 複数のAzureリソースのコストを集計する

リソース タグを追加する。

```
サブスクリプション
├リソース1 (タグ: Product=ProductA) 10$
├リソース2 (タグ: Product=ProductA) 30$
├リソース3 (タグ: Product=ProductB) 50$
└リソース4 (タグ: Product=ProductB) 70$
```

リソース1とリソース2のコストはProductAとして集計できる。10 + 30 = 40

リソース3とリソース4のコストはProductBとして集計できる。50 + 70 = 120

# 4. ISO 27001 標準に準拠するために、リソース グループ、ポリシーの割り当て、テンプレートが必要。

ガバナンス ツールとしてAzure Blueprintsを使用する。

ブループリントにはARMテンプレート、ポリシー割り当て、ロール割り当ての定義が含まれる。

```
Azure Blueprints ブループリント
├ARMテンプレート
├Azure Policy割り当て
└Azure RBACロール割り当て
```

ブループリントをサブスクリプションに「割り当て」する

```
サブスクリプション
     ↑割り当て
Azure Blueprints ブループリント
```

割り当てが完了すると、サブスクリプションに、ブループリントに定義された構成が作られる。

```
サブスクリプション
└リソースグループ （ロール、ポリシー割り当て）
  └リソース
```