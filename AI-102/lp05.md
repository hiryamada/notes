# ラーニングパス05 Azure Cognitive Services を使用して「会話言語理解（CLU）」ソリューションを作成する

※「会話言語理解」（Conversational Language Understanding、CLU）

- モジュール1 CLU モデルを構築する
- モジュール2 CLU アプリを発行して使用する

■注: LUISからCLUへの移行

https://azure.microsoft.com/ja-jp/updates/language-understanding-retirement/

- Language Understanding Intelligent Service (LUIS):
  - [2017 年 12 月 13 日に発表されたサービス。](https://satonaoki.wordpress.com/2017/12/17/announcing-the-general-availability-of-azure-bot-service-and-language-understanding-enabling-developers-to-build-better-conversational-bots/)
  - 2023 年 4 月 1 日以降、新しいリソースを作成することはできなくなる。
  - 2025 年 10 月 1 日に、サービスは廃止される。
  - LUISのユーザーは、CLUへの移行が必要。
    - [移行方法のドキュメントが提供される](https://learn.microsoft.com/ja-jp/azure/cognitive-services/language-service/conversational-language-understanding/how-to/migrate-from-luis?tabs=luis-portal)
  - [2023 年 2 月 2 日以降、認定試験の「スキル領域」が、LUISからCLUに変更される](https://learn.microsoft.com/ja-jp/certifications/resources/study-guides/ai-102#change-log)
- Conversational Language Understanding (CLU):
  - 「会話言語理解」とも
  - [2022 年 6 月 1 日に一般提供が開始されている。](https://azure.microsoft.com/ja-jp/updates/general-availability-conversational-language-understanding/)
  - LUISに代わる新しいサービス。


■CLU (Conversational Language Understanding) とは？

CLUは、ユーザーの発話（utterance）から、その「意図」と「エンティティ」を認識する部分の処理を担当する。

例1: ユーザーの発話（utterance）:「3分のタイマーを設定して。」

→ ユーザーの意図（ユーザーがやりたいこと）: タイマーのセット
→ エンティティ: 時間: 3分

例2: ユーザーの発話（utterance）「品川に移動するには？」

→ ユーザーの意図（インテント）: 交通手段の検索
→ エンティティ: 場所: 品川

例3: ユーザーの発話（utterance）「シーフードのピザを2枚注文して。」

→ ユーザーの意図: ピザの注文
→ エンティティ: 商品: シーフードピザ、数量: 2枚

CLUは、会話の意図（タイマーのセット、交通手段の検索、ピザの注文など）と、そこに含まれるエンティティを認識するところまでを担当する。

意図に対応する実際の処理は、モデルではなく、別の部分で（たとえばC#を使用したり、外部のAPIを呼び出したりして）実装する。

■ トレーニング

CLUでは、意図やエンティティは、あらかじめ多数の「発話」でトレーニングしておく。

たとえば、「GetTime」という「意図」を定義し、そこに以下のような、サンプルの「発話」を与えて、モデルをトレーニングする。

- 何時？
- 何時何分？
- 今何時？
- 今何時ですか？
- 何時ですか？
- 現在時刻
- 現在時刻は？
- 現在時刻を教えてください

すると、トレーニングされたモデルは、ユーザーから、上記に近い「発話」を受け取った場合に、それが「GetTime」という「意図」だと、認識できるようになる。

```
ユーザー「今、何時でしょうか？」（発話）
↓
トレーニングされたモデル
↓
意図 =「GetTime」
```

意図「GetTime」に対応する（現在時刻を取得して表示するなど）実際の処理は、モデルではなく、別の部分で（たとえばC#を使用したりして）実装する。

■CLUを使用するためのリソース

「言語サービス」に、「会話言語理解(CLU)」が含まれているので、「言語サービス」リソースを作成する。

■ ラボ

以下のラボを連続して実行します。（ラボ10を実施するにはラボ09で作成するモデルが必要です）

- [ラボ09 「会話言語理解(CLU)」リソースの作成](lab09.md)
- [ラボ10 「会話言語理解(CLU)」を使用するアプリの作成](lab10.md)
