# ラーニングパス01 AI エンジニアリングへの準備


https://learn.microsoft.com/ja-jp/training/paths/prepare-for-ai-engineering/

■このラーニングパスで学ぶ内容

ラーニングパス1では以下の概要を学習します。

- 機械学習（マシンラーニング）
- 人工知能（AI）
- Azure Machine Learning
- Azure Cognitive Services
- Azure OpenAI Service
- Azure Bot Service
- Azure Cognitive Search
- 責任あるAI

また今後のラボを実施するための開発環境をAzure 仮想マシン（Windows）上に構築します。


■機械学習（マシンラーニング）とは？

Microsoftの機械学習の解説ページ:
https://azure.microsoft.com/ja-jp/resources/cloud-computing-dictionary/what-is-machine-learning-platform

大量のデータをコンピューターに与えて学習させ、データの分類や判断、予測などを行えるようにすること。

たとえば、大量の「犬の画像」と「猫の画像」をコンピューターに学習させることで、犬と猫の画像を認識することができる「機械学習モデル」を構築する（トレーニング）。

構築した「機械学習モデル」に、新しい画像データを与えると、「犬」「猫」といったように画像の分類や認識ができるようになる。

```
ユーザー
↓画像データ↑判定結果
トレーニング済みの「機械学習モデル」
```

機械学習を活用できる範囲は多岐にわたる。

- 金融: 不正行為の検出
- 運輸: 配達ルートの最適化、自動運転
- 医療: 病気の診断
- 農業: 田畑の監視
- その他: 音声の文字起こし、画像の判定など

対応するAzureサービス: Azure Machine Learning

※本コース「AI-102」では、機械学習については学習範囲外となる。別のコース「[DP-100: Azure でのデータ サイエンス ソリューションの設計と実装](https://learn.microsoft.com/ja-jp/training/courses/dp-100t01)」で、機械学習について学ぶことができる。

■Azure Machine Learningとは？

公式サイト:
https://azure.microsoft.com/ja-jp/products/machine-learning

ドキュメント:
https://learn.microsoft.com/ja-jp/training/modules/prepare-to-develop-ai-solutions-azure/6-understand-capabilities-of-azure-machine-learning

「機械学習モデル」のトレーニング、デプロイ、管理、監視のためのクラウド プラットフォーム。

独自の「機械学習モデル」を構築したい場合に使用する。

■AI（人工知能）とは？

https://learn.microsoft.com/ja-jp/training/modules/get-started-ai-fundamentals/1-introduction

人間の行動と能力を模倣するソフトウェア。

人の持つ判断・認知・情報処理の一部をコンピューターで実現するもの。

音声の認識、画像の認識、テキストの認識、音声の聞き取り、翻訳などを行える。

AIは、機械学習モデルを利用して実装される。

対応するAzureサービス: Azure Cognitive Service / Azure OpenAI Service

■Azure Cognitive Serviceとは？

公式サイト:
https://azure.microsoft.com/ja-jp/products/cognitive-services/#overview

ドキュメント:
https://learn.microsoft.com/ja-jp/azure/cognitive-services/what-are-cognitive-services

機械学習との違い:
https://learn.microsoft.com/ja-jp/azure/cognitive-services/cognitive-services-and-machine-learning#how-is-a-cognitive-service-different-from-machine-learning

あらかじめトレーニング済みの、すぐに使えるAIパーツをAPIとして提供するサービス。

言語・音声・視覚などのAPIを提供する。

たとえば「言語」のAPIを使用して、送信した自然言語がどの言語かを判定したり、翻訳をしたりできる。

```
ユーザー
↓「hello」↑判定結果（英語）
Cognitive Servicesアカウント
```

「音声」のAPIを使用して、テキストを音声に変換したり、音声をテキストに変換したりできる。

```
ユーザー
↓「hello」↑音声データ（～.wav）
Cognitive Servicesアカウント
```

「視覚」のAPIを使用して、画像の説明文を生成したりできる。

```
ユーザー
↓犬の画像データのURL ↑「窓のそばに座っている犬」
Cognitive Servicesアカウント
```

このサービスを利用するには、Azureサブスクリプション内に「Cognitive Serviceアカウント」というリソースを作成する。

※「Cognitive Serviceアカウント」は、MicrosoftアカウントやAzureのアカウントなどとは特に関係がない。リソースの種類の一つ。「ユーザー名＋パスワード」のようなものではない。Azureには「ストレージアカウント」や「Cosmos DBアカウント」といったように、「～アカウント」という名前のリソースの種類がいくつか存在する。

基本的には、AIの処理はこの「Cognitive Serviceアカウント」内で（Azure内で）実行される。データはいったんAzureに送信される。

```
ユーザー
↓リクエスト（データ） ↑レスポンス
Cognitive Serviceアカウント（データ処理を実行）
```

データを、Azure内ではなく、オンプレミスのサーバーなど、任意の環境で実行したい（データをAzureに送信したくない）場合は、以下のように、Dockerコンテナー内でAIの処理を実行することもできる。ただ、この場合も、課金情報は「Cognitive Serviceアカウント」側で管理されるので、「Cognitive Serviceアカウント」が必要。

```
ユーザー
↓リクエスト（データ） ↑レスポンス
Dockerコンテナー（データ処理を実行）
↓課金情報
Cognitive Serviceアカウント
```

■参考: Azure OpenAI Service

公式サイト:
https://azure.microsoft.com/ja-jp/products/cognitive-services/openai-service

ドキュメント:
https://learn.microsoft.com/ja-jp/azure/cognitive-services/openai/overview

一般提供開始のアナウンス(Blog記事):
https://news.microsoft.com/ja-jp/2023/01/23/230123-general-availability-of-azure-openai-service-expands-access-to-large-advanced-ai-models-with-added-enterprise-benefits/

Azure OpenAI Serviceは、「[OpenAI](https://openai.com/)」が開発している「GPT-4」「ChatGPT」「DALL-E2」「Codex」などのAPIを使用できるAzureのサービス。2023/1/16に一般提供が開始された。

- [GPT-4](https://openai.com/product/gpt-4): [大規模言語モデル](https://atmarkit.itmedia.co.jp/ait/articles/2303/13/news013.html)の一種。ChatGPT、DALL-E2、Codexなどのベースとなる。
- [ChatGPT](https://openai.com/blog/chatgpt): AIチャットボット
- [DALL-E2](https://openai.com/product/dall-e-2): 画像生成
- [Codex](https://openai.com/blog/openai-codex): コード生成、コーディング支援

基本的にユーザーは「プロンプト」を使用して、AIに対して自然言語で指示を行う。

```
ユーザー
↓↑
プロンプト
↓↑
ChatGPT
```

現時点では、このサービスへのアクセスは申請によってのみ許可される（申請をして、許可がされないと、サービスを使用することはできない）。

アクセスを申請するには、https://aka.ms/oai/access のフォームを利用する。

参考: [Microsoftクラウドソリューションアーキテクトによる記事「Azure OpenAI Service を使い始める」](https://zenn.dev/microsoft/articles/1a15305021cd01)

価格はOpenAIが提供するAPIの料金と同様。参考: 「[GPT-4がMicrosoft Azureで利用可能に　まずはプレビュー版](https://www.itmedia.co.jp/news/articles/2303/22/news111.html)」

※本コース「AI-102」の範囲外。現在、このサービスを学習できるMicrosoftの公式トレーニングコースはまだ提供されていない。

■Azure Bot Serviceとは？

https://learn.microsoft.com/ja-jp/training/modules/prepare-to-develop-ai-solutions-azure/8-understand-capabilities-of-azure-bot-service

対話型の「チャットボット」を構築・運用するためのサービス。

チャットボットの例: [ASKUL様の「アオイくん」](https://www.askul.co.jp/f/help/)

チャットボットの開発には「Bot Framework SDK」（ライブラリ）、「Bot Framework Composer」（ツール）「Bot Framework Emulator」（ツール）なども使用される。

- C#などのコードを使用して、ボットを作成するには、「[Bot Framework SDK](https://github.com/microsoft/botframework-sdk)」を使用する。
- コードを書かずに、ボットを作成するには、「[Bot Framework Composer](https://github.com/microsoft/BotFramework-Composer)」を使用する。
- 作成したボットをテストするには、「[Bot Framework Emulator](https://github.com/microsoft/BotFramework-Emulator)」を使用する。
- 作成したボットをAzureで運用するには、「[Azure Bot Service](https://azure.microsoft.com/ja-jp/products/bot-services/)」を使用する。
- エンドユーザーは、Microsoft Teamsなどを通じて、「[Azure Bot Service](https://azure.microsoft.com/ja-jp/products/bot-services/)」で運用されているボットを利用できる。

```
ユーザー
↓↑
チャネル（Microsoft Teams等）
↓↑
Azure Bot Service
↓↑
チャットボット
(Bot Framework SDKまたはBot Framework Composerで開発)
(Bot Framework Emulator上でテスト)
```

「チャットボット」はAIとは異なるもの。「チャットボット」の実体は、リクエストとレスポンスを、ある形式に添って処理するWebアプリである。[.NET](https://dotnet.microsoft.com/ja-jp/)のWebアプリケーションフレームワーク「[ASP.NET Core](https://learn.microsoft.com/ja-jp/aspnet/core/introduction-to-aspnet-core?view=aspnetcore-7.0)」がベース技術として使用されている。

「チャットボット」に、AIなどを組み込むことで、よりインテリジェントな（便利な）チャットボットを作成できる。

```
ユーザー
↓↑
チャットボット
↓↑
Azure Cognitive Service
```


■Azure Cognitive Searchとは？

公式サイト:
https://azure.microsoft.com/ja-jp/products/search

ドキュメント:
https://learn.microsoft.com/ja-jp/training/modules/prepare-to-develop-ai-solutions-azure/9-understand-capabilities-of-azure-cognitive-search

フル マネージドのクラウド検索サービス。たとえば、大量のPDFドキュメントを読み込ませて「インデックス」を作成し、それを使用してさまざまな検索を実行できる。

```
ユーザー
↓検索キーワード↑検索結果
Azure Cognitive Search
↓↑
インデックス
↑ Azure Cognitive Services
PDFなどのドキュメント
```

「インデックス」を作成する部分で、Azure Cognitive Servicesが組み合わせて使用される。たとえば、PDFに含まれる画像の説明文をAzure Cognitive Servicesで生成し、そこからインデックスを生成することで、画像に対するキーワード検索を実現している。

■責任あるAI (Responsible AI)

公式サイト:
https://www.microsoft.com/ja-jp/ai/responsible-ai

Microsoft では、「責任ある AI」という考え方を採用している。主なもの:

- AIシステムではすべての人を公平に扱う必要がある。
  - 性別、民族などで差別をしない。
- AIシステムが、安全かつ確実に実行されるようにする。
  - 自動運転などでは安全性が極めて重要である。
- AIシステムが、プライバシーを尊重する必要がある。
  - AIに入力されたデータのプライバシーを守る。

Microsoft のAIサービスを利用するユーザーにも、Microsoftの「責任ある AI」の考え方に同意し、条件に従ってAIサービスを利用することを求めている。たとえば、Azure Cognitive ServiceやAzure Open AI Serviceのリソースを作成する際に、条件への「同意」を行う必要がある。

![](images/ss-2023-04-04-05-46-19.png)

■開発環境のセットアップ

[ラボ00（VMの準備）](lab00.md) を実施します。

今後、Azureの操作やコーディングなどの作業は、このVMの中で実施します。

■サブスクリプションの料金について

トレーニングで使用するサブスクリプションには100ドル分の「クレジット」が割り当てられています。サブスクリプションの利用料金は「クレジット」から引かれていきます。「クレジット」がなくなると、そのサブスクリプションは利用できなくなります。

現在のコスト発生状況（残りの「クレジット」）は、以下のサイトで確認できます。

https://www.microsoftazuresponsorships.com/

VMは起動している間料金が発生します（「クレジット」が減ります）ので、使っていない間は停止しておくことをおすすめします。以下のように運用してください。

- 各日のトレーニングの終了時（17:30）に、VMを停止します。
- 翌日のトレーニング（ハンズオン）開始時に、VMを起動します。

![](images/ss-2023-04-02-11-16-31.png)

なお、その他のリソース（Cognitive Servicesなど）については、利用した回数に比例した料金がかかりますが、放置しても特に料金は発生しないので、それほど頻繁に削除を行わなくても大丈夫です。

■まとめ

ラーニングパス1では以下の概要を学習しました。

- 機械学習（マシンラーニング）
- 人工知能（AI）
- Azure Machine Learning
- Azure Cognitive Services
- Azure OpenAI Service
- Azure Bot Service
- Azure Cognitive Search
- 責任あるAI

また今後のラボを実施するための開発環境をAzure 仮想マシン（Windows）上に構築しました。
