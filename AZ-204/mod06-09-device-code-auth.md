# デバイスコード認証

スマート TV、IoT デバイス、プリンターなど、入力に制限がある（キーボードやマウスなどを持っておらず）デバイスを使用していて、そのデバイス上でユーザーが直接認証を行うことが難しい場合に、別のデバイスを使って認証を行う仕組み。

- デバイス（の中のプログラム）は、「Microsoft IDプラットフォーム」にアクセスして、デバイスコードを受け取る。
- デバイスは、デバイスコードをユーザーに表示する
- ユーザーは、自分のスマホなどを使用して、https://aka.ms/devicelogin にアクセスし、デバイスコードを入力し、サインインを行う
- サインインが完了すると、デバイスに、トークンが渡される。

https://docs.microsoft.com/ja-jp/azure/active-directory/develop/v2-oauth2-device-code

# ハンズオン: Azure CLIで、デバイスコード認証を使用してサインインする

Azure CLIで`az login`を実行すると、通常、Webブラウザーが開いて、ユーザーはそのWebブラウザーを使用してサインインを行う。SSHの使用中など、Webブラウザーを起動できない状況では、Azure CLIはデバイスコード認証を行う。`--use-device-code`オプションを使用すると、強制的にデバイスコード認証を行わせることができる。
```
az login --use-device-code
```
